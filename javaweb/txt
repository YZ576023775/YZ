陈天意 16:59:49
  <%@ page language="java" import="java.util.*" pageEncoding="utf-8"%>
<%@ taglib uri="http://java.sun.com/jstl/core_rt" prefix="c"%>
<%
	String path = request.getContextPath();
	String basePath = request.getScheme() + "://"
			+ request.getServerName() + ":" + request.getServerPort()
			+ path + "/";
%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<base href="<%=basePath%>">

		<title>My JSP 'findAll.jsp' starting page</title>

		<meta http-equiv="pragma" content="no-cache">
		<meta http-equiv="cache-control" content="no-cache">
		<meta http-equiv="expires" content="0">
		<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
		<meta http-equiv="description" content="This is my page">
		<!--
	<link rel="stylesheet" type="text/css" href="styles.css">
	-->
	<link rel="stylesheet" href="css/bootstrap.css" type="text/css"></link>
	<link rel="stylesheet" href="css/signin.css" type="text/css"></link>
	<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
	</head>
	<style>
	.datalist{
	border:10px groove #00ff00;
	font-family:Arial.Helvetica,sans-serif;
	border-collapse:collspse;
	background-color:#973128;
	color:#3a32a3;
	font-size:20px;
	margin-left:300px;
	margin-right:300px;
	width:500px;
	}
	.datalist th{/*包含选择器表中的列设置表头*/
	border:3px double #00FF00;
	background-color:#4695ff;
	color:#000000;
	font-weight:bold;
	padding-top:4px;
	padding-bottom:4px;
	padding-left:12px;
	padding-right:12px;
	text-align:center;
	}
	
	.datalist td{/*包含选择器表中的单元格*/
	border:1px dotted #007180;
	text-align:left;
	padding-top:4px;
	padding-bottom:4px;
	padding-left:10px;
	padding-right:10px;
	}
	
	.datalist tr.altrow{/*包含选择器*/
	background-color:#000;
	color:#3a32a3;
	}
	
	#count{
	margin-left:400px;
	}
	div#lead a{
	display:block;	
	}
	
	div{
	margin-left:400px;
	}
	
	#search{
	width:440px;
	margin-left:300px;
	}
	
	input#wordText{
	width:300px;
	border:groove #63c 1px;
	background-color:#ccc;
	}
	

	</style>

<script language="javascript">
	$(function() {
		$("table.datalist tr:nth-child(odd)").addClass("altrow");
		 $("table").mouseover(function() { //滑入时执行匿名函数
			$("tr:gt(0)").toggleClass("altrow"); //toggleClass方法交替类别
		});
		$("table").mouseout(function() { //滑出时执行匿名函数
			$("tr:gt(0)").toggleClass("altrow"); //$("tr:gt(0)")是过滤选择器
		}); 

	});
</script>

	<script type="text/javascript">
  window.onload=function(){  
  var wordText=document.getElementById('wordText');
  var Btn=document.getElementById('Btn'); 
  Btn.onclick=function(){
	  var word=wordText.value;
	  if(word==""){
		  alert('请输入关键字');
		  return;
		  }
	  window.location="/todayNews/servlet/NewsServlet?methodname=findAll&currentPageIndex=0&keyword="+word+"";
	  }
  }
  </script>
	<body>
	
		<a href="user/logsuccess.jsp">返回</a>
		
		<!-- 查找关键字 -->
		<div id=search>
		查找关键字<input type="text" name="keyword" id="wordText" value="">
		<input type="button" value="确定" id="Btn">
		</div>
		
		<table align="center" class="datalist" id="oTable" border="1" >
			<tr>
				<th>
					<u><strong><font face="楷体_GB2312">显示新闻列表</font> </strong> </u>
				</th>
			</tr>
			<c:forEach items="${list}" var="news">
				<tr>
					<td>
						<a href="servlet/NewsServlet?methodname=find&id=${news.id}&currentPageIndex=${currentPageIndex}&keyword=${keyword}"
							>${news.title} </a>
					</td>	
				</tr>
			</c:forEach>
		</table>
		
		<!--分页导航条-->
		<div id="count">
			第[${currentPageIndex+1} ]页，共${pages}页
		</div>
		<!--	上下分页开始			-->
		<div id="nav">
		    <nav>
			<ul id="page" class="pager" style="float: left">
				<li id="last">
					<c:if test="${currentPageIndex==0}">
						<li class="previous disabled"><span>上一页</span></li>
					</c:if>
					<c:if test="${currentPageIndex!=0}">
						<li class="previous"><a
							href="servlet/NewsServlet?methodname=findAll&currentPageIndex=${currentPageIndex-1}&keyword=${keyword}">上一页</a></li>
					</c:if>
				</li>
				<li id="next"> 
					<c:if test="${currentPageIndex==(pages-1)}"> 
						<li class="previous disabled"><span>下一页</span> </li>
					</c:if> 
					<c:if test="${currentPageIndex!=(pages-1)}"> 
						<li class="previous"><a href="servlet/NewsServlet?methodname=findAll&amp;currentPageIndex=${currentPageIndex+1}&keyword=${keyword}">下一页</a></li>
				    </c:if>
				</li>
			</ul>
            </nav>
			
			<!--  上下分页结束    -->
			<!-- 索引分页开始   -->
		
            <nav>
			<ul id="pageindex" class="pagination pagination-lg" style="folat: left">
				<c:forEach items="${pageindexlist}" var="pageindex">
					<c:if test="${pageindex==currentPageIndex+1}">
						<li class="disabled active">
							<span>${pageindex }</span>
						</li>
					</c:if>
					<c:if test="${pageindex!=currentPageIndex+1}">
						<li>
							<a href="servlet/NewsServlet?methodname=findAll&amp;currentPageIndex=${pageindex-1}&amp;keyword=${keyword} ">${pageindex}</a>
						</li>
					</c:if>
				</c:forEach>
			</ul>
			</nav>
			<!-- 分页索引结束 -->
		</div>
	 </body>
</html>

